- name: Terminate Failed Instance(s)
  amazon.aws.ec2_instance:
    state: absent
    region: '{{ awsRegion }}'
    instance_ids:
      - '{{ item.instance_id }}'
  loop: "{{ hostvars['localhost'].ec2.instances }}"
  when: hostvars['localhost'].ec2.instances is defined

- name: Task Failure Notification
  fail:
    msg: 
    - "Task Failed!"
    - "Failed AWS EC2 Instance(s) terminated."